{"code":"import fetch from 'cross-fetch';\r\nconst DefaultABCIQueryOptions = {\r\n    height: 0,\r\n    trusted: false\r\n};\r\nexport class Rpc {\r\n    constructor(nodeUrl) {\r\n        this._nodeUrl = nodeUrl;\r\n    }\r\n    abciQuery(path, key, opts = DefaultABCIQueryOptions) {\r\n        return fetch(this._nodeUrl, {\r\n            headers: { 'Content-Type': 'text/json' },\r\n            body: JSON.stringify({\r\n                jsonrpc: '2.0',\r\n                id: 'jsonrpc-client',\r\n                method: 'abci_query',\r\n                params: Object.assign({}, opts, { path, data: key.toArrayBuffer() })\r\n            }),\r\n            method: 'POST',\r\n            mode: 'cors'\r\n        })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n            if ('result' in data) {\r\n                return data.result;\r\n            }\r\n            else {\r\n                throw data.error;\r\n            }\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=rpc.js.map","map":"{\"version\":3,\"file\":\"rpc.js\",\"sourceRoot\":\"\",\"sources\":[\"../src/transport/rpc.ts\"],\"names\":[],\"mappings\":\"AACA,OAAO,KAAK,MAAM,aAAa,CAAC;AAchC,MAAM,uBAAuB,GAAG;IAC9B,MAAM,EAAE,CAAC;IACT,OAAO,EAAE,KAAK;CACf,CAAC;AAEF,MAAM;IAGJ,YAAY,OAAe;QACzB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;IAC1B,CAAC;IAED,SAAS,CACP,IAAY,EACZ,GAAe,EACf,IAAI,GAAG,uBAAuB;QAE9B,OAAO,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE;YAC1B,OAAO,EAAE,EAAE,cAAc,EAAE,WAAW,EAAE;YACxC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC;gBACnB,OAAO,EAAE,KAAK;gBACd,EAAE,EAAE,gBAAgB;gBACpB,MAAM,EAAE,YAAY;gBACpB,MAAM,oBACD,IAAI,IACP,IAAI,EACJ,IAAI,EAAE,GAAG,CAAC,aAAa,EAAE,GAC1B;aACF,CAAC;YACF,MAAM,EAAE,MAAM;YACd,IAAI,EAAE,MAAM;SACb,CAAC;aACC,IAAI,CAAC,CAAC,QAAa,EAAE,EAAE,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;aACxC,IAAI,CACH,CACE,IAE2C,EAC3C,EAAE;YACF,IAAI,QAAQ,IAAI,IAAI,EAAE;gBACpB,OAAO,IAAI,CAAC,MAAwB,CAAC;aACtC;iBAAM;gBACL,MAAM,IAAI,CAAC,KAAK,CAAC;aAClB;QACH,CAAC,CACF,CAAC;IACN,CAAC;CACF\"}"}
